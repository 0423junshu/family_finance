# 项目目录整理与归档（不破坏引用）

## Core Features

- 全仓库扫描并分类：废弃代码/中间产物/问题记录/活跃资源

- 构建引用关系图（import/require、WXML引用、app.json pages、云函数依赖）

- 设计目标目录层级并给出迁移映射表（source -> target）

- 安全迁移：不破坏现有引用；必要时同步批量更新引用并验证构建

- 为保留文件添加用途注释；输出整理后目录说明与差异清单

## Tech Stack

{
  "MiniProgram": {
    "framework": "WeChat Mini Program",
    "ui": "tdesign-miniprogram",
    "notes": "pages与app.json路径敏感；cloudfunctions保持可用；miniprogram_npm不迁移"
  },
  "Tools": [
    "list_files",
    "grep",
    "replace_in_file（仅在确认后）"
  ]
}

## Design

目标结构：docs/archive/{deprecated,intermediate}/、docs/problems/、docs/structure.md；业务代码目录尽量不动（pages/components/cloudfunctions 保持路径稳定）。仅将确认为废弃/中间产物的非引用文件归档到 docs/archive；如需移动被引用文件，先生成映射表并批量更新引用后再验证构建。

## Plan

Note: 

- [ ] is holding
- [/] is doing
- [X] is done

---

[X] step1_扫描与分类规则定义

[X] step2_引用关系分析与风险清单

[X] step3_目录方案与迁移映射表

[X] step4_小批量试迁移与引用更新验证

[ ] step5_全量迁移与自动化引用修复

[ ] step6_构建与真机回归

[ ] step7_为保留文件添加用途注释

[ ] step8_输出目录结构说明与差异清单
