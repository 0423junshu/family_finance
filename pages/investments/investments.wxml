<!-- pages/investments/investments.wxml -->
<navigation-bar title="å®¶åº­è´¢åŠ¡ç®¡ç†" show-back="{{false}}" />

<view class="page-container">
  <!-- æ€»è§ˆå¡ç‰‡ -->
  <view class="overview-card">
    <view class="overview-item">
      <text class="overview-label">æ€»èµ„äº§</text>
      <text class="overview-value">{{totalAssetsDisplay}}</text>
    </view>
    <view class="overview-item">
      <text class="overview-label">æ€»æ”¶ç›Š</text>
      <text class="overview-value {{totalReturn >= 0 ? 'positive' : 'negative'}}">
        <block wx:if="{{totalReturn >= 0}}">+</block>{{totalReturnDisplay}}
      </text>
    </view>
    <view class="overview-item">
      <text class="overview-label">æ”¶ç›Šç‡</text>
      <text class="overview-value {{returnRate >= 0 ? 'positive' : 'negative'}}">
        <block wx:if="{{returnRate >= 0}}">+</block>{{returnRateDisplay}}%
      </text>
    </view>
  </view>

  <!-- æ ‡ç­¾æ  -->
  <view class="tab-bar">
    <view 
      wx:for="{{tabs}}" 
      wx:key="index"
      class="tab-item {{currentTab === index ? 'active' : ''}}"
      data-index="{{index}}"
      bindtap="onTabChange"
    >
      {{item}}
    </view>
  </view>

  <!-- æŠ•èµ„åˆ—è¡¨ -->
  <view class="investment-list">
    <view 
      wx:for="{{investments}}" 
      wx:key="id"
      class="investment-item"
      data-id="{{item.id}}"
      bindtap="onInvestmentDetail"
    >
      <view class="investment-icon">{{item.icon}}</view>
      <view class="investment-info">
        <text class="investment-name">{{item.name}}</text>
        <text class="investment-amount">{{item.amountDisplay}}</text>
      </view>
      <view class="investment-return">
        <text class="return-amount {{item.return >= 0 ? 'positive' : 'negative'}}">
          <block wx:if="{{item.return >= 0}}">+</block>{{item.returnDisplay}}
        </text>
        <text class="return-rate {{item.returnRate >= 0 ? 'positive' : 'negative'}}">
          <block wx:if="{{item.returnRate >= 0}}">+</block>{{item.returnRateDisplay}}%
        </text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{investments.length === 0}}" class="empty-state">
    <text class="empty-icon">ğŸ“Š</text>
    <text class="empty-text">æš‚æ— æŠ•èµ„è®°å½•</text>
    <text class="empty-desc">ç‚¹å‡»å³ä¸‹è§’æŒ‰é’®æ·»åŠ æŠ•èµ„</text>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-btn" bindtap="onAddInvestment">
    <text class="add-icon">+</text>
  </view>

  <!-- åˆ·æ–°æŒ‰é’® -->
  <view class="refresh-btn" bindtap="onRefresh">
    <text class="refresh-icon">ğŸ”„</text>
  </view>
</view>