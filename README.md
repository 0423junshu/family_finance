# 家庭财务管理小程序

一款专为家庭用户设计的微信小程序，提供全面、便捷、安全的家庭财务管理解决方案。

## 功能特性

### 核心功能
- 🏠 **家庭协作管理** - 多成员权限管理，实时数据同步
- 📊 **智能记账系统** - 快速记账，多级分类，标签管理
- 💰 **资产负债总览** - 全面的资产管理和可视化报表
- 📈 **投资模拟功能** - 证券持仓管理和投资分析
- 🎯 **预算管理** - 智能预算设置和超支提醒
- 🏆 **财务目标** - 目标设定和进度跟踪

### 高级功能
- 🤖 **AI智能分类** - 自动推荐分类和标签
- 📱 **多端同步** - 小程序+H5双端支持
- 🔒 **隐私保护** - 金额隐藏，数据加密
- 📋 **审计日志** - 完整的操作记录和回滚功能
- 📊 **可视化报表** - 趋势图、饼图、热力图
- 💾 **数据导入导出** - 支持多种格式

## 技术架构

### 前端技术栈
- **框架**: 微信小程序原生框架
- **UI组件**: 自定义组件 + WeUI
- **图表**: ECharts小程序版
- **状态管理**: 全局数据共享

### 后端技术栈
- **服务**: 微信云开发 (CloudBase)
- **数据库**: 云数据库 (NoSQL)
- **存储**: 云存储
- **计算**: 云函数

### 项目结构
```
family_finance/
├── app.js                 # 小程序入口文件
├── app.json              # 全局配置
├── app.wxss              # 全局样式
├── components/           # 自定义组件
│   └── navigation-bar/   # 导航栏组件
├── pages/               # 页面文件
│   ├── index/           # 首页
│   ├── record/          # 记账页
│   ├── reports/         # 报表页
│   ├── assets/          # 资产页
│   ├── investments/     # 投资页
│   └── profile/         # 个人中心
├── services/            # 业务服务层
│   ├── auth.js          # 认证服务
│   ├── transaction.js   # 交易服务
│   ├── account.js       # 账户服务
│   └── family.js        # 家庭服务
├── utils/               # 工具函数
│   ├── request.js       # 请求封装
│   ├── storage.js       # 存储工具
│   ├── validator.js     # 验证工具
│   └── globalData.js    # 全局数据
├── styles/              # 样式文件
│   ├── variables.wxss   # CSS变量
│   └── common.wxss      # 通用样式
├── cloudfunctions/      # 云函数
│   ├── login/           # 登录函数
│   ├── createTransaction/ # 创建交易
│   ├── getTransactions/ # 获取交易
│   └── ...
└── docs/               # 项目文档
    ├── 需求文档.md
    ├── 产品文档.md
    ├── 交互文档.md
    ├── 技术文档.md
    └── UI文档.md
```

## 快速开始

### 环境要求
- 微信开发者工具 1.05.0+
- Node.js 14.0+
- 微信小程序账号

### 安装步骤

1. **克隆项目**
```bash
git clone [repository-url]
cd family_finance
```

2. **配置小程序**
- 在微信公众平台注册小程序账号
- 获取 AppID 并配置到 `project.config.json`

3. **配置云开发**
- 在微信开发者工具中开通云开发
- 配置云环境 ID

4. **部署云函数**
```bash
# 在微信开发者工具中右键云函数目录
# 选择"上传并部署：云端安装依赖"
```

5. **初始化数据库**
- 在云开发控制台创建数据库集合
- 配置数据库权限

### 开发调试

1. **启动开发服务器**
- 使用微信开发者工具打开项目
- 点击"编译"按钮

2. **预览和调试**
- 使用模拟器或真机预览
- 查看控制台日志和网络请求

## 核心功能说明

### 1. 用户认证
- 微信一键登录
- 用户信息管理
- 权限验证

### 2. 家庭管理
- 创建/加入家庭组
- 成员权限管理
- 邀请码分享

### 3. 记账功能
- 收入/支出/转账记录
- 多级分类管理
- 标签系统
- 图片上传
- 位置记录

### 4. 数据分析
- 收支趋势图
- 分类占比分析
- 成员消费分析
- 资产负债报表

### 5. 预算管理
- 预算设置
- 进度跟踪
- 超支提醒

## 数据库设计

### 主要集合
- `users` - 用户信息
- `families` - 家庭组信息
- `transactions` - 交易记录
- `accounts` - 账户信息
- `categories` - 分类信息
- `budgets` - 预算信息
- `goals` - 财务目标

## API 接口

### 云函数列表
- `login` - 用户登录
- `createTransaction` - 创建交易
- `getTransactions` - 获取交易列表
- `updateTransaction` - 更新交易
- `deleteTransaction` - 删除交易
- `getStats` - 获取统计数据
- `createFamily` - 创建家庭组
- `joinFamily` - 加入家庭组

## 部署说明

### 开发环境
1. 配置开发环境云函数
2. 使用测试数据库

### 生产环境
1. 创建生产环境
2. 部署生产云函数
3. 配置生产数据库
4. 提交小程序审核

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License

## 联系方式

如有问题或建议，请联系开发团队。

---

**注意**: 请确保在生产环境中正确配置所有安全设置和隐私保护措施。