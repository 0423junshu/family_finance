# 报表页数据为0的异常排查计划

## Core Features

- 语法与运行时错误定位

- 请求入参与云函数返回校验

- 数据处理与聚合函数逐步验证

- 字段映射与渲染绑定核对

- 筛选状态与默认值检查

- 最小化回滚对比定位根因

## Tech Stack

{
  "MiniProgram": {
    "framework": "WeChat Mini Program",
    "ui": "tdesign-miniprogram"
  }
}

## Design

专注于报表数据流从API到渲染的核对与修复，确保现有tdesign-miniprogram组件正确接收与展示数据；不涉及UI重设。

## Plan

Note: 

- [ ] is holding
- [/] is doing
- [X] is done

---

[X] 语法与运行时错误：对report.js进行lint/编译，控制台查看是否有报错；回退对比最近改动定位潜在early return或未定义变量

[/] 数据源入参核对：打印请求参数（时间范围、分类、分页、自定义周期）并与之前版本或reports-simple.js对齐

[ ] 云函数返回校验：在调用处打印原始返回，云开发控制台查看getTransactions、manageCategory实际返回与期望字段是否一致

[ ] 数据处理函数验证：对聚合/映射函数进行单元打印，使用小样本mock输入，逐步检查是否出现NaN/undefined触发默认0

[ ] 字段映射与路径：确认从API到state的字段名、层级未变（如data.list→transactions），避免空数组导致全0

[ ] 渲染层检查：核对tdesign图表/组件绑定的数据字段、格式与维度（xAxis、series、legend）是否匹配期望

[ ] 交互状态影响：检查筛选器、周期选择、趋势开关的默认值与watcher是否把过滤条件设为全空

[ ] 回滚验证与差异对比：用reports-simple.js或上一个正常版本替换对比，最小化变更定位根因并修正
