# 账户候选一致性与统一提供器

## Core Features

- 统一账户提供器（services/accountProvider.js）

- record/transfer/template-edit/record-collaboration 接入统一账户入口

- 模板编辑页顶部间距优化：基本信息卡片距顶部12rpx

- 报表：按账户统计（仅月度）——服务层输出 accountStats + 独立“账户统计”Tab（与分类统计一致）

- 账户统计展示账户图标与颜色（从资产账户映射或稳定配色）

- 账户统计：按账户类型固定图标映射（bank/现金/支付宝/微信/理财/钱包等）

- fallback 报表实现补充 accountStats 聚合，避免无数据显示

## Tech Stack

{
  "Web": {
    "arch": "html",
    "component": "tdesign"
  },
  "iOS": "",
  "Android": ""
}

## Design

在前端 fallback.generateReport 中，按交易的账户维度聚合 income/expense/count 生成 accountStats，保障月度账户统计在无服务端报表时也可显示。

## Plan

Note: 

- [ ] is holding
- [/] is doing
- [X] is done

---

[X] step1_sync_strategy_design

[X] step2_icons_spec_unify

[X] step3_template_flow_fixes

[X] step3b_template_edit_spacing

[/] step4_my_page_card_component

[ ] step5_tests_docs

[X] step6_me_page_perf_network_fix

[/] step7_global_id_consistency

[X] step7a_account_provider_record_transfer

[/] step7b_account_provider_services

[X] step8_reports_account_monthly_module

[X] step8b_reports_account_icons

[X] step8c_reports_fallback_account_stats
