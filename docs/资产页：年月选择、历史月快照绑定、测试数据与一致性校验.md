# 资产页：年月选择、历史月快照绑定、测试数据与一致性校验

## Core Features

- 年月选择器（限制为 YYYY-MM）并统一 monthKey

- 按月快照数据模型：assets_snapshots[YYYY-MM]

- 历史月编辑与保存仅影响该月快照

- 生成测试资产数据（默认范围：近24个月，按最新月复制）

- 保存前一致性校验：总额=账户余额之和+投资之和；提供阻止保存并提示

- 历史迁移：用最新月复制补齐近24个月空缺

- 文档更新（需求与问题）

## Tech Stack

{
  "Web": {
    "arch": "wechat-miniprogram",
    "component": null
  }
}

## Design

阶段一本地方案：onLoad 触发 runHistoryMigration（仅一次），generateTestData 改为按最新月复制；所有读写仍走 accounts:YYYY-MM / investments:YYYY-MM。

## Plan

Note: 

- [ ] is holding
- [/] is doing
- [X] is done

---

[X] step1_方案与确认

[X] step2_数据模型与存储选型

[X] step3_UI年月选择器与绑定

[X] step4_历史月读写路由

[X] step5_一致性校验实现

[X] step6_测试数据生成

[/] step7_回归测试与文档
