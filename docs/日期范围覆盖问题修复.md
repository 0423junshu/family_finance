# 日期范围被覆盖问题修复

## 问题描述
用户反馈：点击查看全部时，9月的日期范围显示为2025.08.31~2025.09.29，而不是正确的2025.09.01~2025.09.30。

## 问题分析

### 1. 首页计算逻辑（正确）
在`pages/index/index.js`的`onViewAllTap()`函数中：
- 2025年9月的计算：`monthIndex = 9 - 1 = 8`
- 使用`getCycleDateRange(2025, 8)`计算得到：
  - startDate: "2025-09-01"
  - endDate: "2025-09-30"

### 2. 跳转参数传递（正确）
```javascript
const url = `/pages/transaction-list/transaction-list?startDate=${startDate}&endDate=${endDate}&title=${encodeURIComponent(title)}&year=${year}&month=${this.data.selectedMonth}`
```

### 3. 问题根源：transaction-list页面覆盖逻辑
在`pages/transaction-list/transaction-list.js`中发现问题：

1. **onLoad函数**：正确接收并设置了startDate、endDate和dateRange='custom'
2. **initDateRange函数**：但是该函数会重新计算日期范围，覆盖传入的正确日期

## 修复方案

### 1. 添加自定义日期保护逻辑
```javascript
// 如果已经有自定义日期范围，不要重新计算
if (this.data.filters.dateRange === 'custom' && 
    this.data.filters.startDate && 
    this.data.filters.endDate) {
  console.log(`保持现有自定义日期范围: ${this.data.filters.startDate} 到 ${this.data.filters.endDate}`)
  return
}
```

### 2. 增强URL参数处理日志
```javascript
if (options.startDate && options.endDate) {
  updates['filters.startDate'] = options.startDate
  updates['filters.endDate'] = options.endDate
  updates['filters.dateRange'] = 'custom'
  console.log(`从URL参数设置自定义日期范围: ${options.startDate} 到 ${options.endDate}`)
}
```

### 3. 修复月份验证日志
更新验证日志使用动态年份，而不是硬编码的2024年。

## 验证方法

1. 在首页选择2025年9月
2. 点击"查看全部记录"
3. 检查控制台日志：
   - 应显示"从URL参数设置自定义日期范围: 2025-09-01 到 2025-09-30"
   - 应显示"保持现有自定义日期范围: 2025-09-01 到 2025-09-30"
4. 验证页面显示的日期范围是否为2025-09-01至2025-09-30

## 修复文件
- `pages/transaction-list/transaction-list.js`

## 预期结果
- 9月份正确显示：2025-09-01 至 2025-09-30
- 其他月份也应正确显示对应的1日到月末最后一天